{"ast":null,"code":"import _slicedToArray from \"/Users/jovangoh/Desktop/tetris-react/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState, useEffect, useCallback } from \"react\";\nexport const useGameStatus = rowsCleared => {\n  const _useState = useState(0),\n        _useState2 = _slicedToArray(_useState, 2),\n        score = _useState2[0],\n        setScore = _useState2[1];\n\n  const _useState3 = useState(0),\n        _useState4 = _slicedToArray(_useState3, 2),\n        rows = _useState4[0],\n        setRows = _useState4[1];\n\n  const _useState5 = useState(0),\n        _useState6 = _slicedToArray(_useState5, 2),\n        level = _useState6[0],\n        setLevel = _useState6[1];\n\n  const linePoints = [40, 100, 300, 1200];\n  const calcScore = useCallback( //if not we will have infinity loop\n  () => {\n    //check if we have score\n    if (rowsCleared > 0) {\n      //how tetris score is calculated\n      setScore(prev => prev + linePoints[rowsCleared - 1] * (level + 1));\n      setRows(prev => prev + rowsCleared);\n    }\n  }, [level, linePoints, rowsCleared]);\n  useEffect(() => {\n    calcScore();\n  }, [calcScore, rowsCleared, score]);\n  return [score, setScore, rows, setRows, level, setLevel];\n}; //will only run when dependencies changes\n//fire off immediately","map":{"version":3,"sources":["/Users/jovangoh/Desktop/tetris-react/src/hooks/useGameStatus.js"],"names":["useState","useEffect","useCallback","useGameStatus","rowsCleared","score","setScore","rows","setRows","level","setLevel","linePoints","calcScore","prev"],"mappings":";AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,WAA9B,QAAiD,OAAjD;AAEA,OAAO,MAAMC,aAAa,GAAIC,WAAD,IAAiB;AAAA,oBAClBJ,QAAQ,CAAC,CAAD,CADU;AAAA;AAAA,QACrCK,KADqC;AAAA,QAC9BC,QAD8B;;AAAA,qBAEpBN,QAAQ,CAAC,CAAD,CAFY;AAAA;AAAA,QAErCO,IAFqC;AAAA,QAE/BC,OAF+B;;AAAA,qBAGlBR,QAAQ,CAAC,CAAD,CAHU;AAAA;AAAA,QAGrCS,KAHqC;AAAA,QAG9BC,QAH8B;;AAK5C,QAAMC,UAAU,GAAG,CAAC,EAAD,EAAK,GAAL,EAAU,GAAV,EAAe,IAAf,CAAnB;AAEA,QAAMC,SAAS,GAAGV,WAAW,EAC3B;AACA,QAAM;AACJ;AACA,QAAIE,WAAW,GAAG,CAAlB,EAAqB;AACnB;AACAE,MAAAA,QAAQ,CAAEO,IAAD,IAAUA,IAAI,GAAGF,UAAU,CAACP,WAAW,GAAG,CAAf,CAAV,IAA+BK,KAAK,GAAG,CAAvC,CAAlB,CAAR;AACAD,MAAAA,OAAO,CAAEK,IAAD,IAAUA,IAAI,GAAGT,WAAlB,CAAP;AACD;AACF,GAT0B,EAU3B,CAACK,KAAD,EAAQE,UAAR,EAAoBP,WAApB,CAV2B,CAA7B;AAaAH,EAAAA,SAAS,CAAC,MAAM;AACdW,IAAAA,SAAS;AACV,GAFQ,EAEN,CAACA,SAAD,EAAYR,WAAZ,EAAyBC,KAAzB,CAFM,CAAT;AAIA,SAAO,CAACA,KAAD,EAAQC,QAAR,EAAkBC,IAAlB,EAAwBC,OAAxB,EAAiCC,KAAjC,EAAwCC,QAAxC,CAAP;AACD,CAzBM,C,CAyBJ;AAEH","sourcesContent":["import { useState, useEffect, useCallback } from \"react\";\n\nexport const useGameStatus = (rowsCleared) => {\n  const [score, setScore] = useState(0);\n  const [rows, setRows] = useState(0);\n  const [level, setLevel] = useState(0);\n\n  const linePoints = [40, 100, 300, 1200];\n\n  const calcScore = useCallback(\n    //if not we will have infinity loop\n    () => {\n      //check if we have score\n      if (rowsCleared > 0) {\n        //how tetris score is calculated\n        setScore((prev) => prev + linePoints[rowsCleared - 1] * (level + 1));\n        setRows((prev) => prev + rowsCleared);\n      }\n    },\n    [level, linePoints, rowsCleared]\n  );\n\n  useEffect(() => {\n    calcScore();\n  }, [calcScore, rowsCleared, score]);\n\n  return [score, setScore, rows, setRows, level, setLevel];\n}; //will only run when dependencies changes\n\n//fire off immediately\n"]},"metadata":{},"sourceType":"module"}